<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow, noarchive, nosnippet">
    <meta name="googlebot" content="noindex, nofollow">
    <meta name="bingbot" content="noindex, nofollow">
    <title>Cadastro - Plataforma IA</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: #2c3e50;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .navbar {
            background: rgba(0,0,0,0.9);
            padding: 1rem 2rem;
        }
        .navbar ul {
            list-style: none;
            display: flex;
            gap: 2rem;
            justify-content: center;
        }
        .navbar a {
            text-decoration: none;
            color: white;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            transition: all 0.3s;
        }
        .navbar a:hover {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
        }
        .main-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        .cadastro-container {
            background: white;
            border-radius: 25px;
            padding: 3rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            width: 100%;
            max-width: 450px;
        }
        .cadastro-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .cadastro-header h1 {
            color: #333;
            margin-bottom: 0.5rem;
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #555;
            font-weight: 600;
        }
        .form-group input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        .form-group input:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 0 3px rgba(79,172,254,0.1);
        }
        .btn-primary {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
            margin-bottom: 1.5rem;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
        }

        .login-link {
            text-align: center;
            color: #666;
        }
        .login-link a {
            color: #ff6b6b;
            text-decoration: none;
            font-weight: 600;
        }
        .footer {
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        .social-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1rem;
        }
        .social-links a {
            color: white;
            font-size: 1.5rem;
            transition: color 0.3s;
        }
        .social-links a:hover {
            color: #ff6b6b;
        }
        .btn-google {
            width: 100%;
            padding: 1rem;
            background: white;
            color: #333;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 1.5rem;
        }
        .btn-google:hover {
            border-color: #db4437;
            background: #fef7f7;
        }
        .divider {
            text-align: center;
            margin: 1.5rem 0;
            position: relative;
            color: #666;
        }
        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #e9ecef;
        }
        .divider span {
            background: white;
            padding: 0 1rem;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/planos">Planos</a></li>
            <li><a href="/cadastro">Cadastro</a></li>
            <li><a href="/chat-ia">Chat IA</a></li>
        </ul>
    </nav>

    <div class="main-content">
        <div class="cadastro-container">
            <div class="cadastro-header">
                <h1>üöÄ Criar Conta</h1>
                <p>Cadastre-se na Plataforma IA</p>
            </div>

            <button class="btn-google" onclick="cadastrarComGoogle()">
                üîç Cadastrar com Google
            </button>

            <div class="divider">
                <span>ou cadastre-se com email</span>
            </div>

            <form onsubmit="cadastrar(event)">
                <div class="form-group">
                    <label>Nome Completo *</label>
                    <input type="text" name="nome" required minlength="2" placeholder="Seu nome completo">
                </div>
                <div class="form-group">
                    <label>Email *</label>
                    <input type="email" name="email" required placeholder="seu@email.com">
                </div>
                <div class="form-group">
                    <label>Senha *</label>
                    <input type="password" name="senha" required minlength="8" placeholder="M√≠nimo 8 caracteres: A-z, 0-9, !@#$" oninput="verificarSenha(this.value)">
                    <div id="senha-info" style="font-size: 0.8rem; margin-top: 0.5rem; color: #666;">
                        Deve conter: Mai√∫scula, min√∫scula, n√∫mero e s√≠mbolo
                    </div>
                </div>
                <div class="form-group">
                    <label>Confirmar Senha *</label>
                    <input type="password" name="confirmar_senha" required minlength="8" placeholder="Confirme sua senha">
                </div>
                <button type="submit" class="btn-primary">
                    Criar Conta
                </button>
            </form>

            <div class="login-link">
                J√° tem uma conta? <a href="/login">Fazer login</a>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="social-links">
                <a href="https://wa.me/5511999999999" target="_blank" title="WhatsApp">üì±</a>
                <a href="https://www.linkedin.com/in/isabelapaivanovais7" target="_blank" title="LinkedIn">üíº</a>
                <a href="https://github.com/IsaPotter" target="_blank" title="GitHub">üêô</a>
            </div>
            <p>&copy; 2024 Plataforma IA. Todos os direitos reservados.</p>
            <p>Transformando neg√≥cios com intelig√™ncia artificial</p>
        </div>
    </footer>

    <script>
        function cadastrarComGoogle() {
            // Simula√ß√£o do cadastro com Google
            const nome = prompt('Nome completo (do Google):');
            const email = prompt('Email (do Google):');
            
            if (nome && email) {
                fetch('/api/cadastro-google', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ nome, email, google_auth: true })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        alert(data.message);
                        window.location.href = '/dashboard';
                    } else {
                        alert('Erro: ' + data.error);
                    }
                })
                .catch(error => {
                    alert('Erro de conex√£o. Tente novamente.');
                });
            }
        }

        function cadastrar(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const nome = formData.get('nome').trim();
            const email = formData.get('email').trim().toLowerCase();
            const senha = formData.get('senha');
            const confirmarSenha = formData.get('confirmar_senha');
            
            // Valida√ß√µes frontend
            if (nome.length < 2) {
                alert('Nome deve ter pelo menos 2 caracteres');
                return;
            }
            
            if (!email.includes('@')) {
                alert('Email inv√°lido');
                return;
            }
            
            if (senha.length < 8) {
                alert('Senha deve ter pelo menos 8 caracteres');
                return;
            }
            
            // Validar senha segura
            if (!/[A-Z]/.test(senha)) {
                alert('Senha deve conter pelo menos uma letra mai√∫scula');
                return;
            }
            if (!/[a-z]/.test(senha)) {
                alert('Senha deve conter pelo menos uma letra min√∫scula');
                return;
            }
            if (!/\d/.test(senha)) {
                alert('Senha deve conter pelo menos um n√∫mero');
                return;
            }
            if (!/[!@#$%^&*(),.?":{}|<>]/.test(senha)) {
                alert('Senha deve conter pelo menos um caractere especial (!@#$%^&*)');
                return;
            }
            
            if (senha !== confirmarSenha) {
                alert('Senhas n√£o coincidem!');
                return;
            }
            
            // Desabilitar bot√£o durante o envio
            const btn = event.target.querySelector('button');
            btn.disabled = true;
            btn.textContent = 'Criando conta...';
            
            fetch('/api/cadastro', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ nome, email, senha })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert(data.message);
                    window.location.href = data.redirect || '/dashboard';
                } else {
                    alert('Erro: ' + data.error);
                    btn.disabled = false;
                    btn.textContent = 'Criar Conta';
                }
            })
            .catch(error => {
                alert('Erro de conex√£o. Tente novamente.');
                btn.disabled = false;
                btn.textContent = 'Criar Conta';
            });
        }
    </script>
</body>
</html>