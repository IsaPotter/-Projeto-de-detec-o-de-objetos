<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Favicon Bootstrap Icons: webcam-fill -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='M6.644 11.094a.5.5 0 0 1 .356-.15h2a.5.5 0 0 1 .356.15c.175.177.39.347.603.496a7 7 0 0 0 .752.456l.01.006h.003A.5.5 0 0 1 10.5 13h-5a.5.5 0 0 1-.224-.947l.002-.001.01-.006a4 4 0 0 0 .214-.116 8 8 0 0 0 .539-.34c.214-.15.428-.319.603-.496M7 6.5a1 1 0 1 1 2 0 1 1 0 0 1-2 0'/%3E%3Cpath d='M2 3a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm6 1.5a2 2 0 1 1 0 4 2 2 0 0 1 0-4M12.5 7a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1'/%3E%3C/svg%3E">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detec√ß√£o de Objetos em Tempo Real - TensorFlow.js</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="estilo1.css">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        /* Ajuste para o menu empurrar o conte√∫do */
        .sidebar.show-menu + .page-wrapper {
            margin-left: 280px; /* Largura exata do sidebar */
            transition: margin-left 0.5s ease-in-out;
        }
    </style>
</head>
<body>
    <!-- Tela de Carregamento -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p class="loading-text">Carregando modelo de IA... Isso pode levar alguns segundos.</p>
    </div>

    <header class="main-header">
        <div class="hamburguer">
            <div class="line" id="line1"></div>
            <div class="line" id="line2"></div>
            <div class="line" id="line3"></div>
        </div>
        <a href="index.html" class="header-title">Detec√ß√£o de Objetos</a>
        <div class="header-controls">
            <label for="theme-select" class="visually-hidden">Selecionar Tema</label>
            <i class="bi bi-palette-fill theme-icon"></i>
            <select id="theme-select" class="form-select theme-select">
                <option value="light">Claro</option>
                <option value="dark">Escuro</option>
                <option value="high-contrast">Alto Contraste</option>
            </select>
        </div>
    </header>

    <aside class="sidebar">
        <nav>
            <ul class="menu">
                <li class="menu-item"><a href="index.html" class="menu-link active"><i class="bi bi-house-door-fill me-2"></i>In√≠cio</a></li>
                <li class="menu-item"><a href="sobre.html" class="menu-link"><i class="bi bi-info-circle-fill me-2"></i>Sobre</a></li>
                <li class="menu-item"><a href="faq.html" class="menu-link"><i class="bi bi-question-circle-fill me-2"></i>FAQ</a></li>
                <li class="menu-item"><a href="politica.html" class="menu-link"><i class="bi bi-shield-lock-fill me-2"></i>Privacidade</a></li>
                <li class="menu-item"><a href="assinatura.html" class="menu-link"><i class="bi bi-star-fill me-2"></i>Assinatura</a></li>
                <li class="menu-item"><a href="login.html" class="menu-link"><i class="bi bi-person-circle me-2"></i>Login</a></li>
            </ul>
        </nav>
        <div class="social-media">
            <a href="https://wa.me/" target="_blank" aria-label="WhatsApp"><i class="bi bi-whatsapp"></i></a>
            <a href="https://linkedin.com/" target="_blank" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
            <a href="https://github.com/" target="_blank" aria-label="GitHub"><i class="bi bi-github"></i></a>
        </div>
    </aside>

    <div class="page-wrapper">
        <div class="container">
            <header>
                <h1 class="text-center mb-2">üéØ Detec√ß√£o de Objetos em Tempo Real</h1>
                <div class="mb-4">
                    <p class="text-center mb-2 page-subtitle">
                        Este site utiliza intelig√™ncia artificial (TensorFlow.js) para detectar objetos em tempo real usando a sua webcam. √â r√°pido, seguro e funciona direto do navegador!
                    </p>

                    <div id="como-usar" class="alert alert-info">
                        <strong>Como usar:</strong> Clique em <b>Ativar Webcam</b> e permita o acesso √† c√¢mera. Posicione objetos na frente da webcam para v√™-los sendo detectados automaticamente.
                    </div>
                </div>
            </header>

            <div class="status-bar" id="statusBar">
                <div class="status-indicator loading">
                    <span class="dot"></span>
                    <span id="statusText">Carregando modelo de IA...</span>
                </div>
            </div>

            <main>
                <section class="my-4">
                    <div class="alert alert-warning" role="alert">
                        <h6 class="mb-1"><i class="bi bi-exclamation-triangle me-2"></i>Por que isso √© importante?</h6>
                        <p class="mb-0">A detec√ß√£o autom√°tica de objetos pode prevenir acidentes, aumentar a efici√™ncia de processos, proteger pessoas e bens, al√©m de democratizar o acesso √† tecnologia de intelig√™ncia artificial para todos os setores da sociedade.</p>
                    </div>
                </section>
                
                <div class="controls">
                    <div class="button-group mb-3">
                        <button id="enableBtn" class="btn btn-primary" disabled>
                            <i class="bi bi-webcam-fill btn-icon me-2"></i>
                            <span class="btn-text">Carregando...</span>
                        </button>
                        <button id="pauseBtn" class="btn btn-secondary" style="display: none;">
                            <i class="bi bi-pause-fill btn-icon me-2"></i>
                            <span class="btn-text">Pausar</span>
                        </button>
                    </div>
                    <div class="info-box text-center">
                        <p>üí° <strong>Dica:</strong> Posicione objetos na frente da c√¢mera para detect√°-los automaticamente.</p>
                    </div>
                </div>

                <!-- Se√ß√£o de Configura√ß√µes -->
                <div class="settings-section my-4">
                    <div class="card">
                        <div class="card-body">
                            <h6 class="card-title mb-3"><i class="bi bi-gear-fill me-2"></i>Configura√ß√µes de Detec√ß√£o</h6>
                            <div class="form-group">
                                <label for="confidence-slider" class="form-label">
                                    N√≠vel de Confian√ßa M√≠nimo: <span id="confidence-value">50%</span>
                                </label>
                                <input type="range" class="form-range" id="confidence-slider" min="0.1" max="0.9" step="0.1" value="0.5">
                                <div class="form-text">Ajuste para mostrar apenas detec√ß√µes com maior precis√£o.</div>
                            </div>
                            <div class="form-group mt-3">
                                <label for="volume-slider" class="form-label">
                                    <i class="bi bi-volume-up-fill me-2"></i>Volume da Notifica√ß√£o: <span id="volume-value">50%</span>
                                </label>
                                <input type="range" class="form-range" id="volume-slider" min="0" max="1" step="0.1" value="0.5">
                                <div class="form-text">Ajuste o volume do som de alerta para novas detec√ß√µes.</div>
                            </div>
                            <hr>
                            <p class="mb-0 text-center upgrade-prompt">‚ú® <a href="assinatura.html">Fa√ßa upgrade para Premium</a> e desbloqueie configura√ß√µes avan√ßadas, como rastreamento de objetos e exporta√ß√£o de dados!</p>
                        </div>
                    </div>
                </div>

                <div class="webcam-container" id="webcamContainer">
                    <div class="video-wrapper">
                        <video id="webcam" autoplay muted playsinline style="max-width: 100%; border-radius: 10px; box-shadow: 0 2px 12px #0002;"></video>
                        <canvas id="canvas" style="position: absolute; top: 0; left: 0;"></canvas>
                    </div>
                    <div class="stats" id="stats">
                        <div class="stat-item">
                            <span class="stat-label">Objetos Detectados:</span>
                            <span class="stat-value" id="objectCount">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">FPS:</span>
                            <span class="stat-value" id="fps">0</span>
                        </div>
                    </div>
                </div>

                <div class="detected-objects" id="objetos">
                    <div class="detected-objects-header">
                        <h3>Objetos Detectados Recentemente</h3>
                        <button id="clearListBtn" class="btn btn-light"><i class="bi bi-trash me-2"></i>Limpar Lista</button>
                    </div>
                    <div class="objects-list" id="objectsList">
                        <p class="empty-state text-center">Nenhum objeto detectado ainda...</p>
                    </div>
                </div>
            </main>


            <footer id="contato" class="page-footer">
                <!-- Se√ß√£o de objetos detect√°veis -->
                <div class="my-4">
                    <div class="card">
                        <div class="card-body">
                            <h6 class="card-title mb-2"><i class="bi bi-list-check me-2"></i>Principais objetos que podem ser detectados:</h6>
                            <div class="badge-container">
                                <span class="badge bg-primary">Pessoa</span>
                                <span class="badge bg-secondary">Carro</span>
                                <span class="badge bg-success">Bicicleta</span>
                                <span class="badge bg-danger">Cachorro</span>
                                <span class="badge bg-dark">Notebook</span>
                                <span class="badge bg-primary">Copo</span>
                                <span class="badge bg-secondary">Livro</span>
                                <span class="badge bg-success">Frutas</span>
                                <span class="badge bg-danger">Bola</span>
                                <span class="badge bg-warning text-dark">Sof√°</span>
                                <span class="badge bg-info text-dark">TV</span>
                                <span class="badge bg-dark">Mochila</span>
                                <span class="badge bg-secondary">√înibus</span>
                                <span class="badge bg-success">Caminh√£o</span>
                                <span class="badge bg-danger">Garrafa</span>
                                <span class="badge bg-warning text-dark">Rel√≥gio</span>
                                <span class="badge bg-info text-dark">Teclado</span>
                                <span class="badge bg-dark">Mouse</span>
                                <!-- Adicione mais conforme desejar -->
                            </div>
                            <p class="mt-3 mb-0 text-center footer-badge-text">E muitos outros! O modelo reconhece mais de 80 tipos de objetos do cotidiano.</p>
                        </div>
                    </div>
                </div>
                <div class="footer-credits">
                    <i class="bi bi-webcam-fill me-2 footer-icon"></i>
                    <span>¬© 2025 Isabela Paiva Novais. Desenvolvido com TensorFlow.js | Modelo: COCO-SSD (80+ classes de objetos)</span>
                </div>
            </footer>
        </div>
    </div>

    <!-- Chatbot -->
    <div class="chat-fab" id="chat-fab">
        <i class="bi bi-robot"></i>
    </div>

    <div class="chat-window" id="chat-window">
        <div class="chat-header">
            <h5>Assistente Virtual</h5>
            <button id="close-chat-btn" class="close-chat-btn">&times;</button>
        </div>
        <div class="chat-messages" id="chat-messages"></div>
        <div class="chat-input-container">
            <form id="chat-form">
                <input type="text" id="chat-input" placeholder="Digite sua pergunta..." autocomplete="off">
                <button type="submit"><i class="bi bi-send-fill"></i></button>
            </form>
        </div>
    </div>

    <!-- TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.11.0"></script>
    <!-- COCO-SSD Model -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd@2.2.3"></script>
    <!-- Script principal -->
    <script src="script.js"></script>
    <script src="theme.js"></script>
    <script src="scrip-menu.js"></script>
    <script src="chatbot.js"></script>
</body>
</html>
